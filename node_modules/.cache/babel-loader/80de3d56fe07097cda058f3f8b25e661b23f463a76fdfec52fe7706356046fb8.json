{"ast":null,"code":"var _regeneratorRuntime = require(\"/project/remora/node_modules/@babel/runtime/helpers/regeneratorRuntime.js\").default;\nvar _asyncToGenerator = require(\"/project/remora/node_modules/@babel/runtime/helpers/asyncToGenerator.js\").default;\nvar _classCallCheck = require(\"/project/remora/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\nvar _createClass = require(\"/project/remora/node_modules/@babel/runtime/helpers/createClass.js\").default;\nvar _inherits = require(\"/project/remora/node_modules/@babel/runtime/helpers/inherits.js\").default;\nvar _createSuper = require(\"/project/remora/node_modules/@babel/runtime/helpers/createSuper.js\").default;\nvar ApiClient = require('./api_client');\nvar _require = require('../utils'),\n  pluckData = _require.pluckData,\n  parseDateFields = _require.parseDateFields;\n\n/**\n * Resource collection client.\n * @param {ApiClientOptions} options\n * @private\n */\nvar ResourceCollectionClient = /*#__PURE__*/function (_ApiClient) {\n  \"use strict\";\n\n  _inherits(ResourceCollectionClient, _ApiClient);\n  var _super = _createSuper(ResourceCollectionClient);\n  function ResourceCollectionClient() {\n    _classCallCheck(this, ResourceCollectionClient);\n    return _super.apply(this, arguments);\n  }\n  _createClass(ResourceCollectionClient, [{\n    key: \"_list\",\n    value:\n    /**\n     * @param {object} [options]\n     * @return {Promise<object>}\n     * @private\n     */\n    function () {\n      var _list2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var options,\n          response,\n          _args = arguments;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              options = _args.length > 0 && _args[0] !== undefined ? _args[0] : {};\n              _context.next = 3;\n              return this.httpClient.call({\n                url: this._url(),\n                method: 'GET',\n                params: this._params(options)\n              });\n            case 3:\n              response = _context.sent;\n              return _context.abrupt(\"return\", parseDateFields(pluckData(response.data)));\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, this);\n      }));\n      function _list() {\n        return _list2.apply(this, arguments);\n      }\n      return _list;\n    }()\n    /**\n     * @param {object} resource\n     * @return {Promise<object>}\n     * @private\n     */\n  }, {\n    key: \"_create\",\n    value: function () {\n      var _create2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(resource) {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return this.httpClient.call({\n                url: this._url(),\n                method: 'POST',\n                params: this._params(),\n                data: resource\n              });\n            case 2:\n              response = _context2.sent;\n              return _context2.abrupt(\"return\", parseDateFields(pluckData(response.data)));\n            case 4:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2, this);\n      }));\n      function _create(_x) {\n        return _create2.apply(this, arguments);\n      }\n      return _create;\n    }()\n    /**\n     * @param {string} [name]\n     * @return {Promise<object>}\n     * @private\n     */\n  }, {\n    key: \"_getOrCreate\",\n    value: function () {\n      var _getOrCreate2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n        var name,\n          response,\n          _args3 = arguments;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) switch (_context3.prev = _context3.next) {\n            case 0:\n              name = _args3.length > 0 && _args3[0] !== undefined ? _args3[0] : '';\n              _context3.next = 3;\n              return this.httpClient.call({\n                url: this._url(),\n                method: 'POST',\n                params: this._params({\n                  name: name\n                })\n              });\n            case 3:\n              response = _context3.sent;\n              return _context3.abrupt(\"return\", parseDateFields(pluckData(response.data)));\n            case 5:\n            case \"end\":\n              return _context3.stop();\n          }\n        }, _callee3, this);\n      }));\n      function _getOrCreate() {\n        return _getOrCreate2.apply(this, arguments);\n      }\n      return _getOrCreate;\n    }()\n  }]);\n  return ResourceCollectionClient;\n}(ApiClient);\nmodule.exports = ResourceCollectionClient;","map":{"version":3,"names":["ApiClient","require","_require","pluckData","parseDateFields","ResourceCollectionClient","_ApiClient","_inherits","_super","_createSuper","_classCallCheck","apply","arguments","_createClass","key","value","_list2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","options","response","_args","wrap","_callee$","_context","prev","next","length","undefined","httpClient","call","url","_url","method","params","_params","sent","abrupt","data","stop","_list","_create2","_callee2","resource","_callee2$","_context2","_create","_x","_getOrCreate2","_callee3","name","_args3","_callee3$","_context3","_getOrCreate","module","exports"],"sources":["/project/remora/node_modules/apify-client/src/base/resource_collection_client.js"],"sourcesContent":["const ApiClient = require('./api_client');\nconst {\n    pluckData,\n    parseDateFields,\n} = require('../utils');\n\n/**\n * Resource collection client.\n * @param {ApiClientOptions} options\n * @private\n */\nclass ResourceCollectionClient extends ApiClient {\n    /**\n     * @param {object} [options]\n     * @return {Promise<object>}\n     * @private\n     */\n    async _list(options = {}) {\n        const response = await this.httpClient.call({\n            url: this._url(),\n            method: 'GET',\n            params: this._params(options),\n        });\n        return parseDateFields(pluckData(response.data));\n    }\n\n    /**\n     * @param {object} resource\n     * @return {Promise<object>}\n     * @private\n     */\n    async _create(resource) {\n        const response = await this.httpClient.call({\n            url: this._url(),\n            method: 'POST',\n            params: this._params(),\n            data: resource,\n        });\n        return parseDateFields(pluckData(response.data));\n    }\n\n    /**\n     * @param {string} [name]\n     * @return {Promise<object>}\n     * @private\n     */\n    async _getOrCreate(name = '') {\n        // The default value of '' allows creating unnamed\n        // resources by passing the name= parameter with\n        // no value. It's useful and later will be supported\n        // in API properly by omitting the name= param entirely.\n        const response = await this.httpClient.call({\n            url: this._url(),\n            method: 'POST',\n            params: this._params({ name }),\n        });\n        return parseDateFields(pluckData(response.data));\n    }\n}\n\nmodule.exports = ResourceCollectionClient;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}